# ============================================
# pNode Pulse Environment Configuration
# ============================================
# Copy this file to .env and replace all placeholder values
# NEVER commit .env to version control
#
# Generate secure passwords:
#   openssl rand -base64 32
# ============================================

# Database Configuration
POSTGRES_USER=pnodepulse
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=pnodepulse
POSTGRES_PORT=5434

# Full connection string for the app
DATABASE_URL=postgresql://pnodepulse:your_secure_password_here@localhost:5434/pnodepulse

# Redis Configuration
REDIS_PORT=6381
REDIS_URL=redis://localhost:6381

# pRPC Configuration (Seed pNode IPs for discovery)
# Comma-separated list of pNode IP addresses (without port)
# Leave empty to use default seed nodes from CLAUDE.md
# Example: PRPC_SEED_NODES=173.212.203.145,173.212.220.65,161.97.97.41
PRPC_SEED_NODES=

# Application
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# CORS Configuration (optional)
# Comma-separated list of allowed origins for API access
# Leave empty to use defaults (localhost in dev, production domains in prod)
# Example: ALLOWED_ORIGINS=https://example.com,https://app.example.com
ALLOWED_ORIGINS=

# Security (REQUIRED)
# Generate a secure random string for production:
# openssl rand -base64 32
JWT_SECRET=your-secret-key-change-this-in-production-use-openssl-rand-base64-32

# Admin API Authentication (REQUIRED for /api/admin/* endpoints)
# Generate a secure random key:
# openssl rand -base64 32
ADMIN_API_KEY=your-admin-api-key-here

# Node Pruning Configuration
# Controls when nodes transition: ACTIVE → INACTIVE → ARCHIVED
PRUNE_INACTIVE_THRESHOLD_HOURS=24
PRUNE_ARCHIVE_THRESHOLD_DAYS=7

# TimescaleDB Metrics Retention (requires manual setup, see migration SQL)
# METRICS_COMPRESSION_DAYS=30
# METRICS_RETENTION_DAYS=90

# ============================================
# Email/SMTP Configuration (optional)
# Required for email alerts and report delivery
# ============================================
# SMTP_HOST=smtp.resend.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=resend
# SMTP_PASS=your_resend_api_key
# SMTP_FROM=pNode Pulse <noreply@yourdomain.com>

# ============================================
# Telegram Bot (optional)
# Required for Telegram notifications
# Get token from @BotFather
# ============================================
# TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info

# ============================================
# Alternative Redis Configuration
# Use these instead of REDIS_URL if preferred
# ============================================
REDIS_HOST=localhost
# REDIS_PORT=6381 (already defined above)
